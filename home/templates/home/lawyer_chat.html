<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenChat</title>
</head>
<body>
    <h1>Chat with {{lawyer.names}}</h1>
    <form method="post" action="{% url 'home:lawyer_chat' lawyer.id %}">
        {% csrf_token %}
        {{form.as_p}}
        <button type="submit">Send</button>
    </form>
<div class="chat-messages">
    {% for comment in comments %}
        <div class="message {% if comment.sender == request.user %}user-message{% else %}lawyer-message{% endif %}">
            <strong>{% if comment.sender == request.user %}You{% else %}Lawyer{% endif %}:</strong>
            <p>{{ comment.content }}</p>
            <small>{{ comment.created_at|date:"F d, Y H:i" }}</small>
        </div>
    {% empty %}
        <p>No messages yet. Start the conversation!</p>
    {% endfor %}
</div>

<a href="{% url 'home:lawyers' %}" class="btn btn-secondary mt-3">Back to Lawyer List</a>
<style>
    body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f4f4f4;
    }
    h1 {
        color: #2c3e50;
        text-align: center;
        margin-bottom: 30px;
    }
    form {
        background-color: #fff;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        padding: 20px;
    }
    label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    input[type="text"], textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    button[type="submit"] {
        background-color: #3498db;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
    }
    button[type="submit"]:hover {
        background-color: #2980b9;
    }
</style>
</body>
</html>